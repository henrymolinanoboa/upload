--- =============================================
-- Author:    <Henry Molina>
-- Create date: <28/ago/2024>
-- Description:  - Scripts para :
--        - Elimina espacios en blanco al inicio y al finnal del codigo de perfil transaccional - ROLLBACK

-- Type: DML
-- ===

--Antes
SELECT 'XXXXXXXXX' AS XXXXXXXXX , 'XXXXXXXXX' AS XXXXXXXXX,* FROM SCH_CENTRA_ID.TRANSACTIONAL_PROFILES WHERE CODE LIKE ' %'
GO

UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2328'  WHERE CODE = 'AT_RED_EXC_2328'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_EBS_274'  WHERE CODE = 'AT_EBS_274'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2414'  WHERE CODE = 'AT_RED_EXC_2414'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_CONSULTACLIENTES_004'  WHERE CODE = 'AT_CONSULTACLIENTES_004'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_CONSULTACLIENTES4_001'  WHERE CODE = 'AT_CONSULTACLIENTES4_001'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_EBS_314'  WHERE CODE = 'AT_EBS_314'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_TELEMERCADEOANALISTAVM2_001'  WHERE CODE = 'AT_TELEMERCADEOANALISTAVM2_001'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_MISRIESGO_050'  WHERE CODE = 'AT_MISRIESGO_050'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2602'  WHERE CODE = 'AT_RED_EXC_2602'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2631'  WHERE CODE = 'AT_RED_EXC_2631'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2702'  WHERE CODE = 'AT_RED_EXC_2702'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_EBS_318'  WHERE CODE = 'AT_EBS_318'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2832'  WHERE CODE = 'AT_RED_EXC_2832'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_LOGIFLOW_213'  WHERE CODE = 'AT_LOGIFLOW_213'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_SOS_014'  WHERE CODE = 'AT_SOS_014'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2922'  WHERE CODE = 'AT_RED_EXC_2922'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2972'  WHERE CODE = 'AT_RED_EXC_2972'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2998'  WHERE CODE = 'AT_RED_EXC_2998'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_2999'  WHERE CODE = 'AT_RED_EXC_2999'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_3023'  WHERE CODE = 'AT_RED_EXC_3023'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RYR_008'  WHERE CODE = 'AT_RYR_008'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_3206'  WHERE CODE = 'AT_RED_EXC_3206'
UPDATE SCH_CENTRA_ID.TRANSACTIONAL_PROFILES SET CODE =  ' AT_RED_EXC_3207'  WHERE CODE = 'AT_RED_EXC_3207'

GO
--Despues
SELECT 'XXXXXXXXX' AS XXXXXXXXX , 'XXXXXXXXX' AS XXXXXXXXX,* FROM SCH_CENTRA_ID.TRANSACTIONAL_PROFILES WHERE CODE LIKE ' %'
GO







ejemplo
cla: pv5Um5I9ibmg+Ye*Xf
Zj56Y+K@

----------------
OPENSHIFT
==========
Desa:
usr: usrdoshf
clave: Dm*ZpD11X_D2


--------------

SELECT
    TOP 1
    ID,
    UUID,
    USERNAME,
    ENDPOINT,
    PAYLOAD
FROM
    SCH_CENTRA_ID.TICKETS
WHERE 
   STATUS = 'ABIERTO'
ORDER BY DATE_PLANNED 
    



CREATE TABLE CENTRA_ID.SCH_CENTRA_ID.TICKETS
    (
        ID BIGINT NOT NULL IDENTITY,
        UUID NVARCHAR(100)  NOT NULL,
        USERNAME NVARCHAR(50)  NOT NULL,
        ENDPOINT NVARCHAR(200)  NOT NULL,
        PAYLOAD TEXT NOT NULL,
        STATUS NVARCHAR(20)  NOT NULL,
        DATE_CREATED DATETIME NOT NULL,
        DATE_PLANNED DATETIME NULL,
        DATE_EXECUTE DATETIME NULL,
        CONSTRAINT TICKETS_PK PRIMARY KEY (ID)
    );

CREATE TABLE CENTRA_ID.SCH_CENTRA_ID.TICKETS_HISTORY
    (
        ID BIGINT NOT NULL IDENTITY,
        UUID NVARCHAR(100)  NOT NULL,
        DATE_EXECUTE DATETIME NOT NULL,
        RESPONSE TEXT  NOT NULL,
        HTTP_RESPONSE NVARCHAR(100),
        CONSTRAINT TICKETS_HISTORY_PK PRIMARY KEY (ID)
    );

INSERT INTO SCH_CENTRA_ID.TICKETS
    (
        UUID,
        USERNAME,
        ENDPOINT,
        PAYLOAD,
        STATUS,
        DATE_CREATED,
        DATE_PLANNED
    )
    VALUES
;

UPDATE 
    SCH_CENTRA_ID.TICKETS
SET
    STATUS = '',
    DATE_CREATED = '',
    DATE_PLANNED = '',
    DATE_EXECUTE = ''
WHERE
    UUID = ''
;
   
INSERT INTO SCH_CENTRA_ID.TICKETS_HISTORY
    (
        UUID,
        DATE_EXECUTE,
        RESPONSE,
        HTTP_RESPONSE
    )
    VALUES
    
